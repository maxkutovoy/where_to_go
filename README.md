# Онлайн карта Москвы с интересными местами.

Интерактивная карта Москвы с указанием интересных мест с их описанием.

Пример работы карты можно посмотреть [здесь](https://maxkutovoy.pythonanywhere.com).

Для тестирования панели администратора зайдите [сюда](https://maxkutovoy.pythonanywhere.com/admin).
Используйте логин и пароль `admin`.

## Как запустить сайт у себя:
### Установить зависимости:
Скачать все файлы на свой компьютер.

Python3 должен быть уже установлен. Далее используйте `pip` (или `pip3`, если есть
конфликт с python2) для установки зависимостей:

```sh
pip install -r requirements.txt
```

### Создать базу данных:
```sh
python manage.py migrate
```
### Создать пользователя для работы с панелью администратора:
```sh
python manage.py createsuperuser
```
Необходимо запомнить введенные логин и пароль для дальнейшего доступа к
панели администратора.

### Запустить локальный сервер:
```sh
python manage.py runserver
```
Открыть главную страницу по адресу: [http://127.0.0.1:8000/](http://127.0.0.1:8000/)  
Для доступа к панели администратора перейти по адресу: 
[http://127.0.0.1:8000/admin](http://127.0.0.1:8000/admin), ввести логин 
и пароль указанные при создании пользователя.

### Добавить тестовые данные:
Тестовые данные можно загрузить в автоматическом режиме из 
`json-файла`. Для этого необходимо прописать команду
```sh
python manage.py load_place 'json_url'
```
Где `json_url` - ссылка на json-файл с данными о новом 
интересном месте. json-файл должен иметь следующую структуру:

```json
{
    "title": "Название места",
    "imgs": [
        "ссылка_на_картинку_1",
        "ссылка_на_картинку_2",
        ...
    ],
    "description_short": "Краткое описание места",
    "description_long": "Полное описание с HTML разметкой",
    "coordinates": {
        "lng": "Долгота в виде: '37.60177113595118'",
        "lat": "Широта в виде: '55.72962366151958'"
    }
}

```

### Прописать настройки проекта (необязательно):
Для изменения некоторых параметров проекта, а так же 
для выгрузки на реальный сервер необходимо указать некоторые настройки.  

Рядом с файлом `manage.py` создать файл `.env` и в нем прописать настройки
проекта в формате `КЛЮЧ=ЗНАЧЕНИЕ`:
* `SECRET_KEY` - секретный ключ проекта. Необходимо указать при выгрузке проекта
на реальный сервер для большей безопасности проекта.
* `DEBUG` - режим отладки. По умолчанию включен. Для отключения 
укажите параметр`'False'`.
* `ALLOWED_HOSTS` - список хостов/доменов у которых есть доступ к проекту.
По умолчанию включен доступ для работы на локальном сервере.
* `PRODUCT_MODE` - включает настройки для запуска на реальном сервере. При 
выгрузке на реальный сервер необходимо указать `'True'`.

## Цель проекта:
Код написан в образовательных целях на курсе для
web-разработчиков [dvmn.org](https://dvmn.org/)